<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡ßß‡ß®‡ß¶‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶´‡ßç‡¶∞‡¶ø ‡¶™‡¶æ‡¶ö‡ßç‡¶õ‡ßá‡¶®! ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶ï‡¶∞‡¶≤‡ßá‡¶á!
‡¶™‡ßç‡¶∞‡¶•‡¶Æ ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶®‡¶ï‡¶æ‡¶∞‡ßÄ‡¶¶‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø, ‡¶Æ‡¶ø‡¶∏ ‡¶ï‡¶∞‡¶¨‡ßá‡¶® ‡¶®‡¶æ‡•§</title>
    <meta property="og:title" content="‡ßß‡ß®‡ß¶‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶´‡ßç‡¶∞‡¶ø ‡¶™‡¶æ‡¶ö‡ßç‡¶õ‡ßá‡¶®! ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶ï‡¶∞‡¶≤‡ßá‡¶á!
‡¶™‡ßç‡¶∞‡¶•‡¶Æ ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶®‡¶ï‡¶æ‡¶∞‡ßÄ‡¶¶‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø, ‡¶Æ‡¶ø‡¶∏ ‡¶ï‡¶∞‡¶¨‡ßá‡¶® ‡¶®‡¶æ‡•§">
    <meta property="og:description" content="‡¶™‡ßç‡¶∞‡¶•‡¶Æ ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶®‡¶ï‡¶æ‡¶∞‡ßÄ‡¶¶‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶¨‡¶ø‡¶∂‡ßá‡¶∑ ‡¶Ö‡¶´‡¶æ‡¶∞! ‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶ï‡¶∞‡ßá ‡¶ú‡¶ø‡¶§‡ßá ‡¶®‡¶ø‡¶® ‡ßß‡ß®‡ß¶‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶¨‡ßã‡¶®‡¶æ‡¶∏‡•§ SwiftCashRewards ‡¶è‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶•‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶‡•§">
    <meta property="og:image" content="https://i.imgur.com/Ds5aRgJ.jpeg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="1200">
    <meta property="og:url" content=""> <meta property="og:type" content="website">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Bengali:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #DC143C; /* Red for buttons */
            --primary-hover-color: #C82333;
            --secondary-color: #007BFF;
            --text-color: #333;
            --text-color-light: #606770; /* Lighter text for actions/time */
            --light-gray: #f0f2f5; /* Lighter gray for backgrounds */
            --border-color: #ddd;
            --container-bg: #ffffff;
            --success-color: #28a745;
            --fb-blue: #1877f2;
        }

        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            overflow-x: hidden;
            font-family: 'Noto Sans Bengali', sans-serif; /* Updated Font */
            background-color: var(--light-gray);
            color: var(--text-color);
            line-height: 1.6;
        }

        .hero-image-container {
            width: 100%;
            max-height: 60vh; /* Adjusted height */
            overflow: hidden;
            background-color: #e0e0e0; /* Placeholder bg */
        }

        .hero-image {
            width: 100%;
            height: auto;
            aspect-ratio: 16 / 9;
            object-fit: cover;
            display: block;
        }

        .container {
            max-width: 700px; /* Default max-width */
            margin: 0 auto; /* Center container */
            background-color: var(--container-bg);
            box-shadow: 0 1px 10px rgba(0,0,0,0.1);
            padding: 0; /* Remove padding, handle inside sections */
        }

        #main-content {
            text-align: center;
            padding: 30px 20px; /* Consistent padding */
            min-height: 300px;
            transition: opacity 0.5s ease-in-out;
        }

        #main-content h1 {
            font-size: 2em; /* Adjusted font size */
            color: var(--primary-color);
            margin-bottom: 10px;
            font-weight: 700;
        }
        #main-content h2 {
            font-size: 1.6em; /* Adjusted font size */
            color: var(--text-color);
            margin-bottom: 15px;
            font-weight: 600;
        }
        #main-content p {
            font-size: 1.05em; /* Adjusted font size */
            margin-bottom: 25px;
            color: var(--text-color-light);
        }
        .headline-company {
            font-size: 1.3em;
            font-weight: 500;
            color: var(--secondary-color);
            margin-bottom: 5px;
        }
        .headline-main span {
            background-color: rgba(255, 235, 59, 0.7); /* Slightly transparent yellow */
            padding: 2px 6px;
            border-radius: 3px;
        }
        .headline-sub {
            font-size: 1em;
            color: var(--text-color); /* Make sub-headline a bit darker */
            margin-bottom: 30px;
        }

        .btn {
            display: inline-block;
            padding: 12px 30px; /* Slightly larger padding */
            font-size: 1.1em;
            font-weight: 600; /* Bolder font */
            color: white;
            background-color: var(--primary-color);
            border: none;
            border-radius: 6px; /* Slightly more rounded */
            cursor: pointer;
            text-decoration: none;
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
            margin-top: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .btn:hover {
            background-color: var(--primary-hover-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }
        .btn:disabled {
            background-color: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .pulsating-btn {
             /* Updated Animation */
            animation: pulse 2s infinite ease-in-out;
            transform-origin: center;
        }

        @keyframes pulse {
             0% {
                 transform: scale(1);
                 box-shadow: 0 2px 4px rgba(0,0,0,0.1), 0 0 0 0 rgba(220, 53, 69, 0.7);
             }
             50% {
                  transform: scale(1.03); /* Slight zoom */
                  box-shadow: 0 4px 8px rgba(0,0,0,0.15), 0 0 0 15px rgba(220, 53, 69, 0);
             }
             100% {
                 transform: scale(1);
                 box-shadow: 0 2px 4px rgba(0,0,0,0.1), 0 0 0 0 rgba(220, 53, 69, 0);
             }
         }


        .payment-methods {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 25px 0; /* Adjusted margin */
            flex-wrap: wrap;
        }

        .payment-option {
            border: 2px solid var(--border-color);
            border-radius: 8px;
            padding: 15px; /* Increased padding */
            cursor: pointer;
            transition: border-color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
            text-align: center;
            background-color: #fff;
            min-width: 100px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }
        .payment-option img {
            height: 40px;
            margin-bottom: 8px;
            display: block;
            margin-left: auto;
            margin-right: auto;
        }
         .payment-option span {
             font-size: 0.9em;
             font-weight: 500;
             color: var(--text-color-light);
         }
        .payment-option:hover {
             transform: translateY(-3px);
             box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .payment-option.selected {
            border-color: var(--primary-color);
            transform: scale(1.05);
            box-shadow: 0 0 12px rgba(220, 53, 69, 0.4);
        }

        #phoneNumberInput {
            max-width: 300px; /* Limit width */
            width: 80%;
            padding: 12px;
            margin-bottom: 20px;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            font-size: 1em;
            text-align: center;
        }

        .verification-status {
            margin-top: 20px;
        }
        #verificationText {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .spinner {
            border: 4px solid rgba(0,0,0,0.1);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border-left-color: var(--primary-color);
            animation: spin 1s ease infinite;
            margin: 20px auto; /* Increased margin */
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .success-message {
            color: var(--success-color);
            font-size: 1.5em;
            font-weight: bold;
            margin: 20px 0;
        }

        /* --- Social & Comments Section --- */
        .social-section {
            margin-top: 0; /* Removed top margin */
            padding: 15px 20px; /* Adjusted padding */
            background-color: var(--container-bg); /* Ensure same background */
            border-top: 8px solid var(--light-gray); /* Clearer separator */
        }

        /* New Offer Reaction Bar */
        .offer-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #e0e0e0; /* Match FB separator */
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .offer-actions-left { /* Container for action buttons */
             display: flex;
        }

        .offer-actions .action-item {
            display: flex;
            align-items: center;
            cursor: pointer;
            padding: 8px 12px;
            border-radius: 6px;
            transition: background-color 0.2s ease;
            color: var(--text-color-light);
            margin-right: 8px;
            user-select: none; /* Prevent text selection on click */
        }
        .offer-actions .action-item:hover {
            background-color: rgba(0, 0, 0, 0.05); /* Subtle hover */
        }

        .offer-actions .action-icon {
            width: 20px; /* Fixed size */
            height: 20px;
            margin-right: 6px;
            fill: var(--text-color-light);
            transition: fill 0.2s ease, transform 0.2s ease;
        }
        .offer-actions .action-text {
             font-weight: 600;
             font-size: 0.95em;
             line-height: 1; /* Ensure alignment */
        }
        .offer-actions .action-item:active .action-icon {
             transform: scale(0.9); /* Click feedback */
        }

        /* Liked State */
        .offer-actions .like-action.liked {
            color: var(--primary-color); /* Use theme red */
        }
        .offer-actions .like-action.liked .like-icon {
            fill: var(--primary-color); /* Use theme red */
        }

        .action-counts {
            font-size: 0.9em;
            color: var(--text-color-light);
            margin-left: auto; /* Push counts to the right */
            padding-left: 10px;
        }

        /* --- Comments --- */
         .comments-title {
             font-size: 1.2em;
             font-weight: 600;
             margin-bottom: 15px;
             border-bottom: 1px solid #e0e0e0;
             padding-bottom: 10px;
         }
        .comments-container {
            margin-top: 15px;
        }
        .comment {
            display: flex;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #e9ebee;
        }
        .comment:last-child {
            border-bottom: none;
        }
        .comment-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 10px;
            object-fit: cover;
            flex-shrink: 0; /* Prevent shrinking */
        }
        .comment-content {
            flex-grow: 1;
            background-color: var(--light-gray); /* Match page background */
            padding: 8px 12px;
            border-radius: 18px;
        }
        .comment-author {
            font-weight: 600; /* Bolder */
            color: #050505;
            font-size: 0.9em;
            display: block;
        }
        .comment-text {
            font-size: 0.95em;
            color: #050505;
            margin: 4px 0;
            line-height: 1.4;
            word-wrap: break-word;
        }
        .comment-actions {
            font-size: 0.8em;
            color: var(--text-color-light);
            margin-top: 5px;
        }
        .comment-actions .comment-like {
            color: var(--text-color-light);
            font-weight: 600; /* Bold */
            text-decoration: none;
            cursor: pointer;
        }
        .comment-actions .comment-like:hover, .comment-actions .comment-like.liked {
            text-decoration: none; /* No underline */
            color: var(--primary-color); /* Or var(--fb-blue) */
        }
        .comment-actions .comment-time {
            margin-left: 8px;
        }
        .add-comment {
            display: flex;
            align-items: center;
            margin-top: 10px; /* Reduced margin */
            padding: 10px 0; /* Adjusted padding */
            border-top: 1px solid #e0e0e0;
        }
        #newCommentInput {
            flex-grow: 1;
            padding: 10px 15px;
            border: 1px solid #ccd0d5;
            border-radius: 18px;
            margin-right: 10px;
            background-color: var(--light-gray);
            font-size: 0.95em;
            outline: none;
        }
        #newCommentInput:focus {
             border-color: var(--fb-blue);
        }
        #submitCommentBtn {
            padding: 8px 15px;
            font-size: 0.9em;
            font-weight: 600;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }
         #submitCommentBtn:hover {
            background-color: var(--primary-hover-color);
         }

        /* --- Responsive Adjustments --- */
        @media (max-width: 600px) {
            #main-content h1 { font-size: 1.8em; }
            #main-content h2 { font-size: 1.5em; }
            #main-content p { font-size: 1em; }
            .btn { font-size: 1em; padding: 10px 20px;}
            .payment-option { min-width: calc(33% - 20px); } /* Adjust for 3 options */
            .comment-avatar { width: 32px; height: 32px; }
            .comment-content { padding: 6px 10px; }
             .offer-actions { justify-content: space-around; } /* Center items more */
             .action-counts { width: 100%; text-align: left; margin-top: 8px; margin-left: 0; padding-left: 0;}
        }

         @media (min-width: 768px) { /* Desktop Styles */
            .container {
                max-width: 800px; /* Wider container */
                padding: 0; /* Reset padding */
                 margin: 20px auto; /* Add top/bottom margin */
            }
             #main-content {
                  padding: 40px 50px; /* More padding on desktop */
             }
             #main-content h1 { font-size: 2.5em; }
             #main-content h2 { font-size: 2em; }
             #main-content p { font-size: 1.1em; }
             .payment-methods { gap: 25px; margin: 30px 0; }
             .payment-option { min-width: 120px; padding: 20px; }
             .social-section {
                 padding: 20px 50px; /* Match main content padding */
             }
             .action-counts { margin-left: auto; } /* Ensure counts stay right */

         }
         @media (min-width: 992px) {
            .container {
                 max-width: 850px;
            }
             #main-content h1 { font-size: 2.8em; }
             #main-content h2 { font-size: 2.2em; }
         }

    </style>
</head>
<body>

    <div class="hero-image-container">
        <img src="https://i.imgur.com/Ds5aRgJ.jpeg" alt="SwiftCashRewards Offer" class="hero-image" id="heroImage">
    </div>

    <div class="container">
        <div id="main-content">
            </div>

        <div class="social-section">
            <div class="offer-actions">
                <div class="offer-actions-left">
                     <div class="action-item like-action" id="offerLikeAction">
                         <svg class="action-icon like-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
  <path d="M1 21h4V9H1v12zM23 10c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32a1 1 0 0 0-.29-.7L14.17 1 7 8.18V21h10c.83 0 1.54-.5 1.84-1.22l3-7A2.01 2.01 0 0 0 23 10z"/>
</svg>
                         <span class="action-text">‡¶≤‡¶æ‡¶á‡¶ï</span>
                     </div>
                     <div class="action-item comment-action" id="offerCommentAction">
                          <svg class="action-icon comment-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"/></svg>
                         <span class="action-text">‡¶ï‡¶Æ‡ßá‡¶®‡ßç‡¶ü</span>
                     </div>
                </div>
                 <div class="action-counts" id="offerActionCounts">
                     <span id="offerLikesCount">12809 ‡¶≤‡¶æ‡¶á‡¶ï</span>
                     <span id="offerCommentsCount"> ¬∑ 4583 ‡¶ï‡¶Æ‡ßá‡¶®‡ßç‡¶ü</span> </div>
            </div>

            <h3 class="comments-title">‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ‡¶¶‡ßá‡¶∞ ‡¶ï‡¶Æ‡ßá‡¶®‡ßç‡¶ü:</h3>
             <div class="add-comment">
                 <img src="https://i.imgur.com/qVwaRYd.png" alt="You" class="comment-avatar">
                 <input type="text" id="newCommentInput" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Æ‡¶®‡ßç‡¶§‡¶¨‡ßç‡¶Ø ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®...">
                 <button id="submitCommentBtn" class="btn">‡¶™‡¶æ‡¶†‡¶æ‡¶®</button>
             </div>
            <div id="commentsContainer" class="comments-container">
                </div>
        </div>
    </div>

    <script>
        const mainContent = document.getElementById('main-content');
        const heroImage = document.getElementById('heroImage');
        const ADSTERRA_LINK = "https://supersedeasserted.com/cf3t6ct03q?key=6ea33e12bbc85b93fbc9dbcfb51aee34";
        const FACEBOOK_APP_ID = "2024687464606735";

        // --- Initialize Hero Image ---
        heroImage.onerror = function() {
            this.src = 'https://i.imgur.com/Ds5aRgJ.jpeg';
            console.warn("Hero image failed to load. Displaying placeholder.");
        };
        const heroImageURL = "https://i.imgur.com/Ds5aRgJ.jpeg";
        if (heroImageURL && heroImageURL !== "https://i.imgur.com/Ds5aRgJ.jpeg") {
             heroImage.src = heroImageURL;
        } else {
             heroImage.src = 'https://i.imgur.com/Ds5aRgJ.jpeg'; // Default placeholder
        }


        // --- OG URL Setup ---
        const ogUrlMeta = document.querySelector('meta[property="og:url"]');
        if (ogUrlMeta) {
            ogUrlMeta.setAttribute('content', window.location.href);
        }

        // --- State Management ---
        let currentStage = 0;
        let selectedPaymentMethod = null;
        let phoneNumber = ''; // ‡¶è‡¶á ‡¶≠‡ßá‡¶∞‡¶ø‡ßü‡ßá‡¶¨‡¶≤‡¶ü‡¶ø‡¶§‡ßá ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ‡¶∞ ‡¶¶‡ßá‡¶ì‡ßü‡¶æ ‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞‡¶ü‡¶ø ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶ø‡¶§ ‡¶π‡¶¨‡ßá

        const shareDetails = {
            title: "‡¶¶‡¶æ‡¶∞‡ßÅ‡¶£ ‡¶è‡¶ï‡¶ü‡¶æ ‡¶Ö‡¶´‡¶æ‡¶∞!",
            text: `‡¶¶‡¶æ‡¶∞‡ßÅ‡¶£ ‡¶ñ‡¶¨‡¶∞! SwiftCashRewards ‡¶¶‡¶ø‡¶ö‡ßç‡¶õ‡ßá ‡¶™‡ßç‡¶∞‡¶•‡¶Æ ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶®‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶´‡ßç‡¶∞‡¶ø ‡ßß‡ß®‡ß¶‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ! ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶Æ‡¶®‡ßá ‡¶π‡ßü ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞‡¶ì ‡¶è‡¶ü‡¶æ ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶â‡¶ö‡¶ø‡¶§‡•§ ‡¶è‡¶ñ‡¶®‡¶á ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶ï‡¶∞‡ßã ‡¶è‡¶á ‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶•‡ßá‡¶ï‡ßá: ${window.location.href}`,
            url: window.location.href // URL is included in text for some sharing methods
        };

        const paymentLogos = {
            bkash: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTkKKsXWiTrlalq7iNuMhMlhGUSIZT9cT990bhAIXrVcAiOa3NfPp-A2Cs&s=10',
            rocket: 'https://upload.wikimedia.org/wikipedia/commons/thumb/4/45/Rocket_mobile_banking_logo.svg/250px-Rocket_mobile_banking_logo.svg.png',
            nagad: 'https://upload.wikimedia.org/wikipedia/bn/thumb/9/97/%E0%A6%A8%E0%A6%97%E0%A6%A6%E0%A7%87%E0%A6%B0_%E0%A6%B2%E0%A7%8B%E0%A6%97%E0%A7%8B.svg/2560px-%E0%A6%A8%E0%A6%97%E0%A6%A6%E0%A7%87%E0%A6%B0_%E0%A6%B2%E0%A7%8B%E0%A6%97%E0%A7%8B.svg.png'
        };

        // --- HTML for Dynamic Stages ---
        function getStageHTML(stage) {
            switch (stage) {
                case 0: // Initial
                    return `
                        <div class="headline-company">SwiftCashRewards</div>
                        <h1 class="headline-main">‡¶ï‡ßã‡¶Æ‡ßç‡¶™‡¶æ‡¶®‡¶ø‡¶∞ ‡¶™‡ßç‡¶∞‡¶ö‡¶æ‡¶∞‡ßá ‡¶è‡¶ï ‡¶¶‡¶æ‡¶∞‡ßÅ‡¶£ ‡¶∏‡ßÅ‡¶Ø‡ßã‡¶ó! <br><span>‡¶´‡ßç‡¶∞‡¶ø ‡ßß‡ß®‡ß¶‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ</span>‡¶®‡¶ø‡¶® <br>‡¶è‡¶ñ‡¶®‡¶á!</h1>
                        <p class="headline-sub">‡¶è‡¶á ‡¶Ö‡¶´‡¶æ‡¶∞‡¶ü‡¶ø ‡¶∏‡ßÄ‡¶Æ‡¶ø‡¶§ ‡¶∏‡¶Æ‡ßü‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø‡•§ ‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá ‡¶Ø‡¶æ‡¶∞‡¶æ ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶ï‡¶∞‡¶¨‡ßá‡¶®, ‡¶§‡¶æ‡¶∞‡¶æ‡¶á ‡¶è‡¶á ‡¶Ü‡¶ï‡¶∞‡ßç‡¶∑‡¶£‡ßÄ‡ßü ‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶™‡¶æ‡¶¨‡ßá‡¶®‡•§ ‡¶Ü‡¶∞ ‡¶¶‡ßá‡¶∞‡¶ø ‡¶®‡¶æ ‡¶ï‡¶∞‡ßá ‡¶è‡¶ñ‡¶®‡¶á ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®!</p>
                        <button id="registerBtn" class="btn pulsating-btn">‡¶è‡¶ñ‡¶®‡¶ø ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®!</button>
                    `;
                case 1: // Payment & Phone
                    return `
                        <h2>‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡¶õ‡¶®‡ßç‡¶¶‡ßá‡¶∞ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶™‡¶¶‡ßç‡¶ß‡¶§‡¶ø ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®:</h2>
                        <div class="payment-methods">
                            <div class="payment-option" data-method="bkash">
                                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTkKKsXWiTrlalq7iNuMhMlhGUSIZT9cT990bhAIXrVcAiOa3NfPp-A2Cs&s=10" alt="bKash">
                                <span>‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂</span>
                            </div>
                            <div class="payment-option" data-method="rocket">
                                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/45/Rocket_mobile_banking_logo.svg/250px-Rocket_mobile_banking_logo.svg.png" alt="Rocket">
                                <span>‡¶∞‡¶ï‡ßá‡¶ü</span>
                            </div>
                            <div class="payment-option" data-method="nagad">
                                <img src="https://upload.wikimedia.org/wikipedia/bn/thumb/9/97/%E0%A6%A8%E0%A6%97%E0%A6%A6%E0%A7%87%E0%A6%B0_%E0%A6%B2%E0%A7%8B%E0%A6%97%E0%A7%8B.svg/2560px-%E0%A6%A8%E0%A6%97%E0%A6%A6%E0%A7%87%E0%A6%B0_%E0%A6%B2%E0%A7%8B%E0%A6%97%E0%A7%8B.svg.png" alt="Nagad">
                                <span>‡¶®‡¶ó‡¶¶</span>
                            </div>
                        </div>
                        <input type="tel" id="phoneNumberInput" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡ßß‡ßß ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶¶‡¶ø‡¶®" maxlength="11" inputmode="numeric">
                        <button id="paymentSubmitBtn" class="btn" disabled>‡¶è‡¶ó‡¶ø‡ßü‡ßá ‡¶Ø‡¶æ‡¶®</button>
                    `;
                case 2: // Share Instruction
                    return `
                        <h2>‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶∂‡¶®</h2>
                        <p>‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡¶ü‡¶ø ‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶æ‡¶á ‡¶ï‡¶∞‡¶§‡ßá, ‡¶®‡¶ø‡¶ö‡ßá‡¶∞ '‡¶∂‡ßá‡ßü‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®' ‡¶¨‡¶æ‡¶ü‡¶®‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßá ‡¶è‡¶á ‡¶Ö‡¶´‡¶æ‡¶∞‡¶ü‡¶ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Æ‡ßá‡¶∏‡ßá‡¶û‡ßç‡¶ú‡¶æ‡¶∞‡ßá‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡ßá ‡¶ï‡¶Æ‡¶™‡¶ï‡ßç‡¶∑‡ßá ‡ßß‡ß¶ ‡¶ú‡¶® ‡¶¨‡¶®‡ßç‡¶ß‡ßÅ‡¶ï‡ßá ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡•§ ‡¶∂‡ßá‡ßü‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‡¶ï‡¶∞‡ßá ‡¶è‡¶á ‡¶™‡ßá‡¶á‡¶ú‡ßá ‡¶´‡¶ø‡¶∞‡ßá ‡¶Ü‡¶∏‡ßÅ‡¶®‡•§</p>
                        <p style="font-size: 0.9em; color: #666;">(‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶®‡¶æ ‡¶ï‡¶∞‡¶≤‡ßá ‡¶Ö‡¶´‡¶æ‡¶∞‡¶ü‡¶ø ‡¶™‡¶æ‡¶¨‡ßá‡¶® ‡¶®‡¶æ‡•§)</p>
                        <button id="shareBtn" class="btn">‡¶Æ‡ßá‡¶∏‡ßá‡¶û‡ßç‡¶ú‡¶æ‡¶∞‡ßá ‡¶∂‡ßá‡ßü‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
                    `;
                case 3: // Verifying...
                    return `
                        <h2>‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶æ‡¶á ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</h2>
                        <p>‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∂‡ßá‡ßü‡¶æ‡¶∞ ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá‡•§</p>
                        <div class="spinner"></div>
                    `;
        case 4: // Verified & Final CTA
            return `
                <h2 class="success-message">üéâ ‡¶Ö‡¶≠‡¶ø‡¶®‡¶®‡ßç‡¶¶‡¶®! ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶æ‡¶á‡¶° ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§ üéâ</h2>
                <p>‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶∏‡¶Ç‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡¶§‡ßá ‡¶è‡¶¨‡¶Ç ‡¶´‡¶∞‡¶Æ ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶ï‡¶∞‡¶§‡ßá ‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ü‡¶®‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>
                <a href="${ADSTERRA_LINK}" id="adsterraLinkBtn" class="btn" style="background-color: var(--success-color); border-color: var(--success-color);" onclick="localStorage.setItem('formSubmittedViaAdsterra', 'true');">‡¶´‡¶∞‡¶Æ ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶ï‡¶∞‡¶§‡ßá ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®</a>
            `;
                default:
                    return '<p>‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶è‡¶ï‡¶ü‡¶æ ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§ ‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶™‡ßÉ‡¶∑‡ßç‡¶†‡¶æ‡¶ü‡¶ø ‡¶∞‡¶ø‡¶´‡ßç‡¶∞‡ßá‡¶∂ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>';
            }
        }

        // --- Event Listeners Attachment ---
        function attachEventListenersForStage(stage) {
            if (stage === 0) {
                const regBtn = document.getElementById('registerBtn');
                if(regBtn) regBtn.addEventListener('click', () => loadStage(1));
            } else if (stage === 1) {
                const paymentOptions = document.querySelectorAll('.payment-option');
                const phoneInput = document.getElementById('phoneNumberInput');
                const submitBtn = document.getElementById('paymentSubmitBtn');

                function validateStep1() {
                    if (!phoneInput || !submitBtn) return; // Ensure elements exist
                    const isPhoneValid = /^[0-9]{11}$/.test(phoneInput.value);
                    submitBtn.disabled = !(selectedPaymentMethod && isPhoneValid);
                }

                paymentOptions.forEach(option => {
                    option.addEventListener('click', () => {
                        paymentOptions.forEach(opt => opt.classList.remove('selected'));
                        option.classList.add('selected');
                        selectedPaymentMethod = option.dataset.method;
                        validateStep1();
                    });
                });

                if(phoneInput) phoneInput.addEventListener('input', () => {
                    // Allow only numbers
                    phoneInput.value = phoneInput.value.replace(/[^0-9]/g, '');
                    phoneNumber = phoneInput.value; // ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ‡¶∞ ‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá
                    validateStep1();
                });

                if(submitBtn) submitBtn.addEventListener('click', () => {
                     if (!submitBtn.disabled) loadStage(2);
                 });

            } else if (stage === 2) {
                 const shareBtn = document.getElementById('shareBtn');
                 if (shareBtn) shareBtn.addEventListener('click', handleShare);

            } else if (stage === 4) { // ( *** ‡¶è‡¶á ‡¶Ö‡¶Ç‡¶∂‡¶ü‡¶ø ‡¶®‡¶§‡ßÅ‡¶® ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá ‡¶è‡¶¨‡¶Ç ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶ø‡¶§ ‡¶π‡ßü‡ßá‡¶õ‡ßá *** )
                 const finalSubmitBtn = document.getElementById('finalSubmitBtn');
                 if (finalSubmitBtn) {
                     finalSubmitBtn.addEventListener('click', () => {
                         finalSubmitBtn.disabled = true; // ‡¶¨‡¶æ‡¶ü‡¶®‡¶ü‡¶ø ‡¶è‡¶ï‡¶æ‡¶ß‡¶ø‡¶ï‡¶¨‡¶æ‡¶∞ ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡¶æ ‡¶•‡ßá‡¶ï‡ßá ‡¶¨‡¶ø‡¶∞‡¶§ ‡¶∞‡¶æ‡¶ñ‡¶§‡ßá
                         finalSubmitBtn.textContent = '‡¶™‡ßç‡¶∞‡¶∏‡ßá‡¶∏‡¶ø‡¶Ç...'; // ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ‡¶ï‡ßá ‡¶´‡¶ø‡¶°‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï ‡¶¶‡¶ø‡¶§‡ßá

                         setTimeout(() => {
                             // --- ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶è‡¶®‡ßç‡¶°‡ßá ‡¶ï‡¶≤ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶∏‡ßç‡¶•‡¶æ‡¶®‡¶ß‡¶æ‡¶∞‡¶ï (Placeholder) ---
                             // ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ‡¶∞ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶¶‡ßá ‡¶ó‡ßÅ‡¶ó‡¶≤ ‡¶∂‡¶ø‡¶ü‡ßá ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£ ‡¶ï‡¶∞‡¶§‡ßá ‡¶è‡¶¨‡¶Ç ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶∞‡¶ø‡¶ö‡¶æ‡¶∞‡ßç‡¶ú‡ßá‡¶∞ ‡¶≤‡¶ú‡¶ø‡¶ï ‡¶™‡¶∞‡¶ø‡¶ö‡¶æ‡¶≤‡¶®‡¶æ ‡¶ï‡¶∞‡¶§‡ßá
                             // ‡¶Ü‡¶™‡¶®‡¶æ‡¶ï‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶è‡¶®‡ßç‡¶° ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶§‡ßá ‡¶π‡¶¨‡ßá‡•§
                             // ‡¶®‡¶ø‡¶ö‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶è‡¶®‡ßç‡¶°‡ßá ‡¶°‡ßá‡¶ü‡¶æ ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã‡¶∞ ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ï‡¶æ‡¶≤‡ßç‡¶™‡¶®‡¶ø‡¶ï ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£ ‡¶¶‡ßá‡¶ì‡ßü‡¶æ ‡¶π‡¶≤‡ßã:
                             /*
                             fetch('YOUR_BACKEND_API_ENDPOINT', { // ‡¶Ø‡ßá‡¶Æ‡¶®: '/api/save-number'
                                 method: 'POST',
                                 headers: {
                                     'Content-Type': 'application/json',
                                 },
                                 body: JSON.stringify({
                                     phone: phoneNumber, // ‡¶è‡¶ü‡¶ø stage 1 ‡¶•‡ßá‡¶ï‡ßá ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ‡¶∞ ‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞
                                     timestamp: new Date().toISOString()
                                 }),
                             })
                             .then(response => response.json())
                             .then(data => {
                                 console.log('Backend response:', data);
                                 // ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶è‡¶®‡ßç‡¶° ‡¶ï‡¶≤ ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶¨‡¶æ ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‡¶π‡¶ì‡ßü‡¶æ‡¶∞ ‡¶™‡¶∞ Adsterra ‡¶≤‡¶ø‡¶Ç‡¶ï‡ßá ‡¶∞‡¶ø‡¶°‡¶æ‡¶á‡¶∞‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
                                 window.location.href = ADSTERRA_LINK;
                             })
                             .catch((error) => {
                                 console.error('Error calling backend:', error);
                                 // ‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø ‡¶π‡¶≤‡ßá‡¶ì Adsterra ‡¶≤‡¶ø‡¶Ç‡¶ï‡ßá ‡¶∞‡¶ø‡¶°‡¶æ‡¶á‡¶∞‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®, ‡¶Ö‡¶•‡¶¨‡¶æ ‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø ‡¶∏‡¶†‡¶ø‡¶ï‡¶≠‡¶æ‡¶¨‡ßá ‡¶™‡¶∞‡¶ø‡¶ö‡¶æ‡¶≤‡¶®‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®
                                 window.location.href = ADSTERRA_LINK;
                             });
                             */

                             // ‡¶Ü‡¶™‡¶æ‡¶§‡¶§, ‡ß® ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° ‡¶™‡¶∞ ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø Adsterra ‡¶≤‡¶ø‡¶Ç‡¶ï‡ßá ‡¶∞‡¶ø‡¶°‡¶æ‡¶á‡¶∞‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá‡•§
                             // ‡¶Æ‡¶®‡ßá ‡¶∞‡¶æ‡¶ñ‡¶¨‡ßá‡¶®: ‡¶â‡¶™‡¶∞‡ßá‡¶∞ fetch() ‡¶è‡¶∞ ‡¶Æ‡¶§‡ßã ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶∏‡¶ø‡¶ô‡ßç‡¶ï‡ßç‡¶∞‡ßã‡¶®‡¶æ‡¶∏ ‡¶Ö‡¶™‡¶æ‡¶∞‡ßá‡¶∂‡¶®‡¶ó‡ßÅ‡¶≤‡ßã ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‡¶π‡¶ì‡ßü‡¶æ‡¶∞ ‡¶Ü‡¶ó‡ßá‡¶á
                             // Adsterra ‡¶≤‡¶ø‡¶Ç‡¶ï‡¶ü‡¶ø ‡¶≤‡ßã‡¶° ‡¶π‡ßü‡ßá ‡¶ó‡ßá‡¶≤‡ßá ‡¶∏‡ßá‡¶á ‡¶Ö‡¶™‡¶æ‡¶∞‡ßá‡¶∂‡¶®‡¶ó‡ßÅ‡¶≤‡ßã ‡¶¨‡¶æ‡¶ß‡¶æ‡¶ó‡ßç‡¶∞‡¶∏‡ßç‡¶§ ‡¶π‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡•§
                             // ‡¶è‡¶ü‡¶ø ‡¶è‡ßú‡¶æ‡¶§‡ßá ‡¶π‡¶≤‡ßá, fetch() ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‡¶π‡¶ì‡ßü‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡¶§‡ßá ‡¶π‡¶¨‡ßá (‡¶Ø‡ßá‡¶Æ‡¶® await ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá)
                             // ‡¶Ö‡¶•‡¶¨‡¶æ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶è‡¶®‡ßç‡¶° ‡¶ï‡¶≤ ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßá‡¶á ‡¶∞‡¶ø‡¶°‡¶æ‡¶á‡¶∞‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶Ø‡ßá‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá ‡¶Ø‡¶¶‡¶ø ‡¶ï‡¶≤‡ßá‡¶∞ ‡¶§‡¶æ‡ßé‡¶ï‡ßç‡¶∑‡¶£‡¶ø‡¶ï ‡¶â‡¶§‡ßç‡¶§‡¶∞‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡ßü‡ßã‡¶ú‡¶® ‡¶®‡¶æ ‡¶•‡¶æ‡¶ï‡ßá‡•§

                             console.log(`‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶è‡¶®‡ßç‡¶°‡ßá ‡¶ï‡¶≤ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶∏‡¶ø‡¶Æ‡ßÅ‡¶≤‡ßá‡¶∂‡¶® ‡¶è‡¶á ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø: ${phoneNumber}`);
                             console.log('Adsterra ‡¶≤‡¶ø‡¶Ç‡¶ï‡ßá ‡¶è‡¶ñ‡¶® ‡¶∞‡¶ø‡¶°‡¶æ‡¶á‡¶∞‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...');
                             window.location.href = ADSTERRA_LINK;

                         }, 2000); // ‡ß®‡ß¶‡ß¶‡ß¶ ‡¶Æ‡¶ø‡¶≤‡¶ø‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° = ‡ß® ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°
                     });
                 }
            }
        }

        // --- Share Handling ---
        function handleShare() {
            console.log("Sharing...");
            loadStage(3); // Show loading screen immediately

            const messengerUrl = `fb-messenger://share/?link=${encodeURIComponent(shareDetails.url)}&app_id=${FACEBOOK_APP_ID}`;

            let messengerWindow = window.open(messengerUrl, '_blank');

            setTimeout(() => {
                try {
                    if (!messengerWindow || messengerWindow.closed || typeof messengerWindow.closed === "undefined") {
                        console.log("Messenger share may have failed or was blocked.");
                        if (navigator.share) {
                            navigator.share({
                                title: shareDetails.title,
                                text: shareDetails.text
                            }).then(() => {
                                console.log('Successful share via Web Share API');
                            }).catch(err => {
                                console.warn('Web Share API also failed:', err);
                            });
                        }
                    } else {
                        console.log("Messenger share likely successful.");
                    }
                } catch (err) {
                    console.warn("Error checking Messenger window:", err);
                }
                proceedToVerification();
            }, 20000);
        }

         function attemptMessengerShare() {
            const customMessage = "‡¶¶‡¶æ‡¶∞‡ßÅ‡¶£ ‡¶Ö‡¶´‡¶æ‡¶∞! ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶ï‡¶∞‡¶≤‡ßá‡¶á ‡¶™‡¶æ‡¶ö‡ßç‡¶õ‡ßá‡¶® ‡ßß‡ß®‡ß¶‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶´‡ßç‡¶∞‡¶ø!";
            const fullTextWithLink = `${customMessage} ${shareDetails.url}`;
            const messengerUrl = `fb-messenger://share/?link=${encodeURIComponent(fullTextWithLink)}&app_id=${FACEBOOK_APP_ID}`;
            window.open(messengerUrl, '_blank');
        }

         function proceedToVerification() {
              setTimeout(() => {
                  loadStage(4);
              }, 5000);
         }


        // --- Stage Loading Logic ---
        function loadStage(stage) {
            mainContent.style.opacity = 0;
            setTimeout(() => {
                mainContent.innerHTML = getStageHTML(stage);
                attachEventListenersForStage(stage);
                mainContent.style.opacity = 1;
                currentStage = stage;
                 window.scrollTo({ top: mainContent.offsetTop - 20, behavior: 'smooth' });
            }, 500);
        }

         // --- Offer Action Bar Logic ---
        const offerLikeAction = document.getElementById('offerLikeAction');
        const offerLikesCountSpan = document.getElementById('offerLikesCount');
        const offerCommentAction = document.getElementById('offerCommentAction');
        const offerActionCountsContainer = document.getElementById('offerActionCounts');
        const addCommentSection = document.querySelector('.add-comment');

        let offerLikes = 12809;
        let isOfferLiked = false;
        let offerComments = 4583;

        function updateOfferLikeButton() {
            const likeIcon = offerLikeAction.querySelector('.like-icon');
            const likeText = offerLikeAction.querySelector('.action-text');

            if (isOfferLiked) {
                offerLikeAction.classList.add('liked');
                likeText.textContent = '‡¶≤‡¶æ‡¶á‡¶ï‡¶°';
            } else {
                offerLikeAction.classList.remove('liked');
                likeText.textContent = '‡¶≤‡¶æ‡¶á‡¶ï';
            }
            const likesSpan = offerActionCountsContainer.querySelector('#offerLikesCount');
            if(likesSpan) likesSpan.textContent = `${offerLikes} ‡¶≤‡¶æ‡¶á‡¶ï`;
        }

         if (offerLikeAction) offerLikeAction.addEventListener('click', () => {
             if (isOfferLiked) {
                 offerLikes--;
             } else {
                 offerLikes++;
             }
             isOfferLiked = !isOfferLiked;
             updateOfferLikeButton();
         });

         if(offerCommentAction) offerCommentAction.addEventListener('click', () => {
              if(addCommentSection) {
                  addCommentSection.scrollIntoView({ behavior: 'smooth', block: 'center' });
                  document.getElementById('newCommentInput').focus();
              }
          });

         function initializeCounts() {
             const likesSpan = offerActionCountsContainer.querySelector('#offerLikesCount');
             const commentsSpan = offerActionCountsContainer.querySelector('#offerCommentsCount');
             if(likesSpan) likesSpan.textContent = `${offerLikes} ‡¶≤‡¶æ‡¶á‡¶ï`;
             if(commentsSpan) commentsSpan.textContent = ` ¬∑ ${offerComments} ‡¶ï‡¶Æ‡ßá‡¶®‡ßç‡¶ü`;
         }
         initializeCounts();


        // --- Comments Logic ---
        let comments = [
            { id: 1, avatar: 'https://i.imgur.com/w5DQXnp.jpeg', author: '‡¶Æ‡ßã‡¶É ‡¶Ü‡¶∞‡¶ø‡¶´‡ßÅ‡¶≤ ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ', text: '‡¶Ü‡¶Æ‡¶ø ‡¶™‡¶æ‡¶á‡¶õ‡¶ø ‡¶Ö‡¶´‡¶æ‡¶∞‡¶ü‡¶æ! ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶æ‡¶∏‡¶á ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶õ‡¶ø ‡¶®‡¶æ ‡ßß‡ß®‡ß¶‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶è‡¶ï‡¶¶‡¶Æ ‡¶´‡ßç‡¶∞‡¶ø! üî•üí∏', time: '‡ß® ‡¶ò‡¶®‡ßç‡¶ü‡¶æ ‡¶Ü‡¶ó‡ßá', likes: 15, liked: false },
            { id: 2, avatar: 'https://i.imgur.com/iS40hgj.jpeg', author: '‡¶∏‡ßÅ‡¶Æ‡¶æ‡¶á‡ßü‡¶æ ‡¶Ü‡¶ï‡ßç‡¶§‡¶æ‡¶∞', text: '‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶, ‡¶Ö‡¶®‡ßá‡¶ï ‡¶â‡¶™‡¶ï‡¶æ‡¶∞ ‡¶π‡¶≤‡ßã üòä ‡¶è‡¶Æ‡¶® ‡¶Ö‡¶´‡¶æ‡¶∞ ‡¶Ü‡¶∞ ‡¶ï‡¶¨‡ßá ‡¶¶‡¶ø‡¶¨‡ßá‡¶®? üôè', time: '‡ßß ‡¶ò‡¶®‡ßç‡¶ü‡¶æ ‡¶Ü‡¶ó‡ßá', likes: 8, liked: false  },
            { id: 3, avatar: 'https://i.imgur.com/vEqmSir.jpeg', author: '‡¶∞‡¶æ‡¶ï‡¶ø‡¶¨ ‡¶π‡¶æ‡¶∏‡¶æ‡¶®', text: '‡¶Ü‡¶Æ‡¶ø ‡¶∞‡¶ø‡¶°‡¶ø‡¶Æ ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡ßá‡¶∞‡ßá‡¶õ‡¶ø, ‡¶è‡¶ï‡¶¶‡¶Æ ‡¶∏‡¶π‡¶ú ‡¶™‡ßç‡¶∞‡¶ï‡ßç‡¶∞‡¶ø‡ßü‡¶æ ‡¶õ‡¶ø‡¶≤‡ßã ü§ë‚úÖ', time: '‡ß™‡ß´ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü ‡¶Ü‡¶ó‡ßá', likes: 22, liked: false  },
            { id: 4, avatar: 'https://i.imgur.com/JAGRdOR.jpeg', author: '‡¶´‡¶æ‡¶∞‡¶ú‡¶æ‡¶®‡¶æ ‡¶π‡¶ï', text: '‡¶∏‡¶§‡ßç‡¶Ø‡¶ø‡¶á ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá ! ‡¶Ö‡¶®‡ßá‡¶ï ‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶ ‡¶è‡¶Æ‡¶® ‡¶è‡¶ï‡¶ü‡¶æ ‡¶Ö‡¶´‡¶æ‡¶∞ ‡¶¶‡ßá‡ßü‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø üôåüéÅ', time: '‡ß©‡ß¶ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü ‡¶Ü‡¶ó‡ßá', likes: 5, liked: false  },
            { id: 5, avatar: 'https://i.imgur.com/UwzzDGj.jpeg', author: '‡¶Ü‡¶≤‡¶Æ‡¶ó‡ßÄ‡¶∞ ‡¶π‡ßã‡¶∏‡ßá‡¶®', text: '‡¶´‡ßç‡¶∞‡¶ø‡¶§‡ßá ‡ßß‡ß®‡ß¶‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ü‡¶ú‡¶ï‡¶æ‡¶≤ ‡¶∏‡¶π‡¶ú ‡¶®‡¶æ, ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ ‡¶è‡¶ü‡¶æ ‡¶∏‡¶§‡ßç‡¶Ø‡¶ø‡¶á ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá‡¶õ‡ßá üíØüí∞', time: '‡ß®‡ß¶ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü ‡¶Ü‡¶ó‡ßá', likes: 12, liked: false  },
            { id: 6, avatar: 'https://i.imgur.com/bxjwpt7.jpeg', author: '‡¶§‡¶æ‡¶∏‡¶®‡¶ø‡¶Æ ‡¶ö‡ßå‡¶ß‡ßÅ‡¶∞‡ßÄ', text: '‡¶≠‡¶æ‡¶¨‡¶õ‡¶ø‡¶≤‡¶æ‡¶Æ ‡¶∏‡ßç‡¶ï‡ßç‡¶Ø‡¶æ‡¶Æ ‡¶π‡¶¨‡ßá üòÖ ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ ‡¶∏‡¶§‡ßç‡¶Ø‡¶ø‡¶á ‡¶™‡ßá‡¶≤‡¶æ‡¶Æ üòç', time: '‡ßß‡ß´ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü ‡¶Ü‡¶ó‡ßá', likes: 18, liked: false  },
            { id: 7, avatar: 'https://i.imgur.com/arCfwrn.jpeg', author: '‡¶∏‡ßã‡¶π‡ßá‡¶≤ ‡¶∞‡¶æ‡¶®‡¶æ', text: '‡¶Ö‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶Ø ‡¶Ö‡¶´‡¶æ‡¶∞! ‡¶Ü‡¶Æ‡¶ø ‡¶∏‡¶§‡ßç‡¶Ø‡¶ø‡¶á ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶™‡ßá‡ßü‡ßá‡¶õ‡¶ø ü•≥üíµ', time: '‡ßß‡ß¶ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü ‡¶Ü‡¶ó‡ßá', likes: 25, liked: false  },
            { id: 8, avatar: 'https://i.imgur.com/9MFoFse.jpeg', author: '‡¶ú‡¶æ‡¶®‡ßç‡¶®‡¶æ‡¶§‡ßÅ‡¶≤ ‡¶´‡ßá‡¶∞‡¶¶‡ßå‡¶∏', text: '‡¶è‡¶Æ‡¶® ‡¶Ö‡¶´‡¶æ‡¶∞ ‡¶Ü‡¶ó‡ßá ‡¶ï‡¶ñ‡¶®‡ßã ‡¶™‡¶æ‡¶á‡¶®‡¶ø, ‡¶è‡¶ï‡¶¶‡¶Æ legit ‡¶õ‡¶ø‡¶≤‡ßã üëç‚úÖ', time: '‡ß´ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü ‡¶Ü‡¶ó‡ßá', likes: 7, liked: false  },
            { id: 9, avatar: 'https://i.imgur.com/pjUe8Uo.jpeg', author: '‡¶á‡¶Æ‡¶∞‡¶æ‡¶® ‡¶ñ‡¶æ‡¶®', text: '‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá ‡¶∏‡¶®‡ßç‡¶¶‡ßá‡¶π ‡¶ï‡¶∞‡¶õ‡¶ø‡¶≤‡¶æ‡¶Æ üòê ‡¶è‡¶ñ‡¶® ‡¶¨‡ßÅ‡¶ù‡¶≤‡¶æ‡¶Æ ‡¶∏‡¶§‡ßç‡¶Ø‡¶ø ‡¶õ‡¶ø‡¶≤ ü§Ø', time: '‡ß® ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü ‡¶Ü‡¶ó‡ßá', likes: 30, liked: false  },
            { id: 10, avatar: 'https://i.imgur.com/EXGC2Hd.jpeg', author: '‡¶®‡ßÅ‡¶∏‡¶∞‡¶æ‡¶§ ‡¶ú‡¶æ‡¶π‡¶æ‡¶®', text: '‡¶Ü‡¶Æ‡¶ø ‡¶™‡ßá‡ßü‡ßá‡¶õ‡¶ø! ‡¶¶‡ßá‡¶∞‡¶ø ‡¶®‡¶æ ‡¶ï‡¶∞‡ßá ‡¶∏‡¶¨‡¶æ‡¶á ‡¶®‡¶ø‡ßü‡ßá ‡¶®‡¶æ‡¶ì ‚ö°üí∏', time: '‡¶è‡¶ñ‡¶®‡¶á', likes: 10, liked: false  },
            { id: 11, avatar: 'https://i.imgur.com/EWnG87y.jpeg', author: '‡¶Æ‡¶ø‡¶ú‡¶æ‡¶®‡ßÅ‡¶∞ ‡¶∞‡¶π‡¶Æ‡¶æ‡¶®', text: '‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶ ‡¶≠‡¶æ‡¶á, ‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂‡ßá ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶ö‡¶≤‡ßá ‡¶Ü‡¶∏‡¶õ‡ßá ‡¶è‡¶ï‡¶¶‡¶Æ ‡¶ü‡¶æ‡¶á‡¶Æ‡¶≤‡¶ø üì±üí≥', time: '‡ß© ‡¶ò‡¶®‡ßç‡¶ü‡¶æ ‡¶Ü‡¶ó‡ßá', likes: 19, liked: false },
            { id: 12, avatar: 'https://i.imgur.com/0SHUgFr.jpeg', author: '‡¶∏‡¶æ‡¶¶‡¶ø‡ßü‡¶æ ‡¶Ü‡¶´‡¶∞‡¶ø‡¶®', text: '‡¶Ü‡¶Æ‡¶ø ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶¨‡ßã‡¶®‡¶ï‡ßá‡¶ì ‡¶Ö‡¶´‡¶æ‡¶∞‡¶ü‡¶æ ‡¶®‡¶ø‡¶§‡ßá ‡¶¨‡¶≤‡¶õ‡¶ø, ‡¶ì‡¶ì ‡¶™‡ßá‡ßü‡ßá ‡¶ó‡ßá‡¶õ‡ßá! üë≠üí∞', time: '‡ß®.‡ß´ ‡¶ò‡¶®‡ßç‡¶ü‡¶æ ‡¶Ü‡¶ó‡ßá', likes: 23, liked: false },
            { id: 13, avatar: 'https://i.imgur.com/xZYKvg2.jpeg', author: '‡¶§‡¶æ‡¶∞‡ßá‡¶ï ‡¶Æ‡¶®‡ßã‡ßü‡¶æ‡¶∞', text: ' ‡¶∏‡¶§‡ßç‡¶Ø‡¶ø ‡¶ï‡¶•‡¶æ ‡¶¨‡¶≤‡¶§‡ßá ‡¶ï‡¶ø, ‡¶Ü‡¶ú‡¶ï‡¶æ‡¶≤ ‡¶è‡¶Æ‡¶® ‡¶´‡ßç‡¶∞‡¶ø ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶ï‡ßá‡¶â ‡¶¶‡ßá‡ßü ‡¶®‡¶æ ‚Äì ‡¶è‡¶á ‡¶Ö‡¶´‡¶æ‡¶∞‡¶ü‡¶æ ‡¶¨‡ßç‡¶Ø‡¶§‡¶ø‡¶ï‡ßç‡¶∞‡¶Æ! ‚≠êüôè', time: '‡ß® ‡¶ò‡¶®‡ßç‡¶ü‡¶æ ‡ßß‡ß´ ‡¶Æ‡¶ø. ‡¶Ü‡¶ó‡ßá', likes: 6, liked: false },
            { id: 14, avatar: 'https://i.imgur.com/SSIKsJO.jpeg', author: '‡¶Æ‡¶∞‡¶ø‡ßü‡¶Æ ‡¶¨‡ßá‡¶ó‡¶Æ', text: '‡¶Ü‡¶Æ‡¶ø ‡¶∞‡ßá‡¶´‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶¨‡¶®‡ßç‡¶ß‡ßÅ‡¶ï‡ßá‡¶ì ‡¶¶‡¶ø‡¶õ‡ßá  ‚Äì ‡¶Ö‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£! üîÅüéâ', time: '‡ßß ‡¶ò‡¶®‡ßç‡¶ü‡¶æ ‡ß©‡ß¶ ‡¶Æ‡¶ø. ‡¶Ü‡¶ó‡ßá', likes: 11, liked: false },
            { id: 15, avatar: 'https://i.imgur.com/ks35qeB.jpeg', author: '‡¶ú‡¶æ‡¶ï‡¶ø‡¶∞ ‡¶Ü‡¶π‡¶Æ‡ßá‡¶¶', text: '‡¶Ø‡¶æ‡¶∞‡¶æ ‡¶∏‡¶®‡ßç‡¶¶‡ßá‡¶π ‡¶ï‡¶∞‡¶§‡ßá‡¶õ‡ßá, ‡¶§‡¶æ‡¶∞‡¶æ ‡¶è‡¶ï‡¶¨‡¶æ‡¶∞ ‡¶ü‡ßç‡¶∞‡¶æ‡¶á ‡¶ï‡¶∞‡ßá ‡¶¶‡ßá‡¶ñ‡ßã ‚Äì ‡¶è‡¶ï‡¶¶‡¶Æ ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá üí™üíØ', time: '‡ßß ‡¶ò‡¶®‡ßç‡¶ü‡¶æ ‡¶Ü‡¶ó‡ßá', likes: 14, liked: false },
            { id: 16, avatar: 'https://i.imgur.com/4WAFIeM.jpeg', author: '‡¶Ü‡ßü‡ßá‡¶∂‡¶æ ‡¶∏‡¶ø‡¶¶‡ßç‡¶¶‡¶ø‡¶ï‡¶æ', text: '‡¶∞‡ßá‡¶ó‡ßÅ‡¶≤‡¶æ‡¶∞ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶§‡ßá‡¶õ‡¶ø, ‡¶è‡¶Æ‡¶® ‡¶Ö‡¶´‡¶æ‡¶∞ ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ï‡¶¨‡ßá ‡¶Ü‡¶∏‡ßá ‡¶ú‡¶æ‡¶®‡¶æ‡¶¨‡ßá‡¶® ‡¶™‡ßç‡¶≤‡¶ø‡¶ú üîîüì¢', time: '‡ß´‡ß´ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü ‡¶Ü‡¶ó‡ßá', likes: 9, liked: false },
            { id: 17, avatar: 'https://i.imgur.com/DiyCCrA.jpeg', author: '‡¶∏‡¶æ‡¶á‡¶´‡ßÅ‡¶≤‡ßç‡¶≤‡¶æ‡¶π‡ßç', text: '‡ßß‡ß®‡ß¶‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶´‡ßç‡¶∞‡¶ø ‡¶™‡ßá‡ßü‡ßá ‡¶ó‡ßá‡¶≤‡¶æ‡¶Æ, ‡¶è‡¶ï‡¶¶‡¶Æ ‡¶ù‡¶æ‡¶Æ‡ßá‡¶≤‡¶æ ‡¶õ‡¶æ‡ßú‡¶æ‡¶á üì≤üí•', time: '‡ß™‡ß¶ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü ‡¶Ü‡¶ó‡ßá', likes: 20, liked: false },
            { id: 18, avatar: 'https://i.imgur.com/0GYAiht.jpeg', author: '‡¶®‡¶æ‡¶¶‡¶ø‡ßü‡¶æ ‡¶∏‡ßÅ‡¶≤‡¶§‡¶æ‡¶®‡¶æ', text: '‡¶Ü‡¶Æ‡¶ø ‡¶∞‡¶ø‡¶°‡¶ø‡¶Æ ‡¶ï‡¶∞‡¶§‡ßá ‡¶ó‡¶ø‡ßü‡ßá ‡¶è‡¶ï‡¶ü‡ßÅ ‡¶¶‡ßá‡¶∞‡¶ø ‡¶ï‡¶∞‡¶õ‡¶ø‡¶≤‡¶æ‡¶Æ, ‡¶§‡¶æ‡¶∞‡¶™‡¶∞‡¶ì ‡¶™‡ßá‡ßü‡ßá ‡¶ó‡ßá‡¶õ‡¶ø üòÆ‚úÖ', time: '‡ß©‡ß´ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü ‡¶Ü‡¶ó‡ßá', likes: 4, liked: false },
            { id: 19, avatar: 'https://i.imgur.com/pDSUSXH.jpeg', author: '‡¶Ü‡¶¨‡ßç‡¶¶‡ßÅ‡¶≤‡ßç‡¶≤‡¶æ‡¶π ‡¶Ü‡¶≤ ‡¶Æ‡¶æ‡¶Æ‡ßÅ‡¶®', text: '‡¶∏‡¶§‡ßç‡¶Ø‡¶ø‡¶á ‡¶ì‡ßü‡¶æ‡¶ì! ‡¶Ö‡¶®‡ßá‡¶ï‡¶¶‡¶ø‡¶® ‡¶™‡¶∞ ‡¶è‡¶Æ‡¶® ‡¶Ö‡¶´‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶ú‡ßá ‡¶¶‡¶ø‡ßü‡ßá‡¶õ‡ßá ü§©üí∏', time: '‡ß®‡ß´ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü ‡¶Ü‡¶ó‡ßá', likes: 17, liked: false },
            { id: 20, avatar: 'https://i.imgur.com/yl4pVle.jpeg', author: '‡¶´‡¶æ‡¶π‡¶Æ‡¶ø‡¶¶‡¶æ ‡¶∞‡¶π‡¶Æ‡¶æ‡¶®', text: '‡¶Ö‡¶´‡¶æ‡¶∞‡¶ü‡¶æ ‡¶®‡¶ø‡¶õ‡¶ø, ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ï‡ßá‡¶â ‡¶¶‡¶ø‡¶≤‡ßá ‡¶Ö‡¶¨‡¶∂‡ßç‡¶Ø‡¶á ‡¶®‡¶ø‡¶¨‡ßã üòÅüôå', time: '‡ßß‡ßÆ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü ‡¶Ü‡¶ó‡ßá', likes: 28, liked: false }
        ];

        const commentsContainer = document.getElementById('commentsContainer');
        const newCommentInput = document.getElementById('newCommentInput');
        const submitCommentBtn = document.getElementById('submitCommentBtn');

        function escapeHTML(str) {
            const p = document.createElement("p");
            p.appendChild(document.createTextNode(str));
            return p.innerHTML.replace(/"/g, "&quot;").replace(/'/g, "&#039;");
        }


        function renderComments() {
            if(!commentsContainer) return;
            commentsContainer.innerHTML = '';
            comments.slice().reverse().forEach(comment => {
                const commentDiv = document.createElement('div');
                commentDiv.classList.add('comment');
                commentDiv.innerHTML = `
                    <img src="${comment.avatar}" alt="${escapeHTML(comment.author)}" class="comment-avatar" onerror="this.src='https://i.imgur.com/qVwaRYd.png';">
                    <div class="comment-content">
                        <span class="comment-author">${escapeHTML(comment.author)}</span>
                        <p class="comment-text">${escapeHTML(comment.text)}</p>
                        <div class="comment-actions">
                            <a href="#" class="comment-like ${comment.liked ? 'liked' : ''}" data-id="${comment.id}">‚ù§Ô∏è ‡¶≤‡¶æ‡¶á‡¶ï (${comment.likes})</a>
                            <span class="comment-time">${comment.time}</span>
                        </div>
                    </div>
                `;
                commentsContainer.appendChild(commentDiv);
            });
            attachCommentLikeListeners();
        }

         function attachCommentLikeListeners() {
             document.querySelectorAll('.comment-like').forEach(likeBtn => {
                 likeBtn.replaceWith(likeBtn.cloneNode(true));
             });
              document.querySelectorAll('.comment-like').forEach(likeBtn => {
                 likeBtn.addEventListener('click', function(e) {
                     e.preventDefault();
                     const commentId = parseInt(this.dataset.id);
                     const targetComment = comments.find(c => c.id === commentId);
                     if (targetComment) {
                         if (targetComment.liked) {
                             targetComment.likes--;
                             targetComment.liked = false;
                         } else {
                             targetComment.likes++;
                             targetComment.liked = true;
                         }
                         renderComments();
                     }
                 });
             });
         }


        if(submitCommentBtn) submitCommentBtn.addEventListener('click', () => {
            const commentText = newCommentInput.value.trim();
            if (commentText) {
                 const newId = comments.length > 0 ? Math.max(...comments.map(c => c.id)) + 1 : 1;
                 comments.push({
                     id: newId,
                     avatar: 'https://i.imgur.com/qVwaRYd.png',
                     author: '‡¶Ü‡¶™‡¶®‡¶ø',
                     text: commentText,
                     time: '‡¶è‡¶ñ‡¶®‡¶á',
                     likes: 0,
                     liked: false
                 });
                 newCommentInput.value = '';
                 renderComments();
                 offerComments++;
                 const commentsSpan = offerActionCountsContainer.querySelector('#offerCommentsCount');
                 if(commentsSpan) commentsSpan.textContent = ` ¬∑ ${offerComments} ‡¶ï‡¶Æ‡ßá‡¶®‡ßç‡¶ü`;
             }
         });


// --- Initial Load ---
        const formSubmittedKey = 'formSubmittedViaAdsterra';
        if (localStorage.getItem(formSubmittedKey) === 'true') {
            const mainContent = document.getElementById('main-content');
            const socialSection = document.querySelector('.social-section');
            // const heroImageContainer = document.querySelector('.hero-image-container'); // ‡¶è‡¶á ‡¶≤‡¶æ‡¶á‡¶®‡¶ü‡¶ø ‡¶Ü‡¶∞ ‡¶π‡¶ø‡¶∞‡ßã ‡¶á‡¶Æ‡ßá‡¶ú ‡¶≤‡ßÅ‡¶ï‡¶æ‡¶§‡ßá ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá ‡¶®‡¶æ

            if (mainContent) {
                mainContent.innerHTML = `
                    <div style="padding: 50px 20px; text-align: center; background-color: #f0f8ff; border-radius: 8px; margin-top: 20px;">
                        <h2 style="color: var(--success-color); font-size: 2em; margin-bottom: 15px; font-weight: 600;">‡¶Ü‡¶™‡¶®‡¶ø ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶´‡¶∞‡¶Æ ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®!</h2>
                        <p style="font-size: 1.1em; color: var(--text-color-light); margin-bottom: 25px;">‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶•‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶ï‡ßá ‡¶Ö‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø ‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶‡•§</p>
                        <p style="font-size: 0.95em; color: #555;">‡¶Ü‡¶™‡¶®‡¶ø ‡¶è‡¶ñ‡¶® ‡¶è‡¶á ‡¶™‡ßÉ‡¶∑‡ßç‡¶†‡¶æ‡¶ü‡¶ø ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®‡•§ ‡¶®‡¶§‡ßÅ‡¶® ‡¶ï‡ßã‡¶®‡ßã ‡¶Ö‡¶´‡¶æ‡¶∞ ‡¶•‡¶æ‡¶ï‡¶≤‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶ï‡ßá ‡¶ú‡¶æ‡¶®‡¶æ‡¶®‡ßã ‡¶π‡¶¨‡ßá‡•§</p>
                    </div>
                `;
                mainContent.style.minHeight = 'auto'; // ‡¶Ø‡¶¶‡¶ø ‡¶Ü‡¶ó‡ßá min-height ‡¶¶‡ßá‡¶ì‡ßü‡¶æ ‡¶•‡¶æ‡¶ï‡ßá, ‡¶∏‡ßá‡¶ü‡¶æ‡¶ï‡ßá ‡¶∏‡ßç‡¶¨‡¶æ‡¶≠‡¶æ‡¶¨‡¶ø‡¶ï ‡¶ï‡¶∞‡¶¨‡ßá
                mainContent.style.padding = '0px'; // ‡¶Æ‡ßÇ‡¶≤ main-content ‡¶è‡¶∞ ‡¶°‡¶ø‡¶´‡¶≤‡ßç‡¶ü ‡¶™‡ßç‡¶Ø‡¶æ‡¶°‡¶ø‡¶Ç ‡¶¨‡¶æ‡¶¶ ‡¶¶‡ßá‡¶ì‡ßü‡¶æ ‡¶π‡¶≤‡ßã
            }
            if (socialSection) {
                socialSection.style.display = 'none'; // ‡¶ï‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶è‡¶¨‡¶Ç ‡¶∏‡ßã‡¶∂‡ßç‡¶Ø‡¶æ‡¶≤ ‡¶∏‡ßá‡¶ï‡¶∂‡¶® ‡¶≤‡ßÅ‡¶ï‡¶æ‡¶§‡ßá
            }
            // ‡¶Ø‡ßá‡¶π‡ßá‡¶§‡ßÅ ‡¶´‡¶∞‡¶Æ ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶π‡ßü‡ßá ‡¶ó‡ßá‡¶õ‡ßá, ‡¶§‡¶æ‡¶á renderComments() ‡¶ï‡¶≤ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶¶‡¶∞‡¶ï‡¶æ‡¶∞ ‡¶®‡ßá‡¶á
        } else {
            loadStage(0);
            renderComments();
        }

    </script>

</body>
</html>